<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Teste</title>
    <link rel="icon" type="image/png" sizes="16x16" href="https://ide.sefin.fortaleza.ce.gov.br/favicon_io/favicon-32x32.png">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tomickigrzegorz/autocomplete@2.0.2/dist/css/autocomplete.min.css"/>
    <script src="https://cdn.jsdelivr.net/gh/tomickigrzegorz/autocomplete@2.0.2/dist/js/autocomplete.min.js"></script>
</head>
<body class="d-flex flex-column min-vh-100">


<div class="card position-fixed top-0 start-50 translate-middle-x col-12 col-md-8 col-lg-6 mt-2 z-2">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
            <!-- legenda e pesquisa -->
            <span>
                <button type="button" class="btn btn-light" data-bs-toggle="offcanvas" data-bs-target="#offcanvasLegend">
                    <i class="bi bi-list"></i>
                </button>
                <button class="btn btn-light" type="button" data-bs-toggle="collapse" data-bs-target="#pesquisa">
                    <i class="bi bi-search"></i>
                </button>
            </span>

            <!-- titulo da camada -->
            <h4 class="text-center card-title col-8 multiline-truncate" id="current-layer-name">Adicione uma Camada</h4>

            <!-- botao de limpar -->
            <button id="clearLayersBtn" type="button" class="btn btn-danger">
                <i class="bi bi-trash"></i>
            </button>
        </div>

        <!-- caixa de pesquisa e menu dropdown -->
        <div class="collapse" id="pesquisa">
            <div class="dropdown position-relative">
                <input type="text" id="layerAddressSearch" class="form-control my-3" placeholder="Pesquise por uma Camada ou >Endereço" aria-label="Layer or Address search" data-bs-toggle="dropdown" aria-expanded="false">
                <!-- spinner de carregamento -->
                <div id="spinner" class="spinner-border text-primary position-absolute" role="status" style="display: none; top: 10px; right: 20px; width: 1rem; height: 1rem;">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <!-- lista de sugestoes -->
                <ul class="dropdown-menu w-100" id="suggestions" aria-labelledby="layerAddressSearch" style="max-height: 400px; overflow-y: auto;"></ul>
            </div>
        </div>
    </div>
</div>

<!-- container do mapa -->
<div id="map" class="container-fluid flex-grow-1 z-0"></div>
<!-- Rodape -->
<div id="rodape" class="d-flex justify-content-between bg-dark text-light multiline-truncate">
    <div><span id="coordinates-display">Posição do Cursor: N/A </span><span id="zoom-display">, Zoom: 12</span></div>
    <div id="layer-info" class="d-flex align-items-center px-4">
        <input type="range" class="form-range" id="opacitySlider" min="0" max="1" step="0.1" value="1">
    </div>
</div>
<!-- Offcanvas -->
<div class="offcanvas offcanvas-start bg-light.bg-gradient" tabindex="-1" id="offcanvasLegend">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasLegendLabel">Legenda</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
        <div id="legend-container"></div>
    </div>
</div>

<script src="app.js"></script>

</body>
</html>
